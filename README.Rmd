---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# EncircleR

The goal of EncircleR is to automate and streamline circRNA analysis, by providing a graphical interface for selecting and downloading reference files, Perform read trimming and read mapping, and finally to perform circRNA detection by exploring backsplice junction contents.

## Installation

First install the circRNA detection algorithm 
``` r
devtools::install_github("https://github.com/KasperThystrup/circulaR")
```

You can then install the latest release of EncircleR from Github with:

``` r
devtools::install_github("https://github.com/KasperThystrup/EncircleR")
```

### Dependencies

 * STAR aligner (https://github.com/alexdobin/STAR)
 * fastp (https://github.com/OpenGene/fastp)

## Example

This is a basic example which shows you how to solve a common problem:

```{r example, eval=FALSE}
library(EncircleR)

# Run
EncircleR::run_app()
## basic example code
```

# How to run
Clone the repository and open `EncircleR.Rproj` with Rstudio.
First up open `R/utils_DEFUALTS.R` and set the appropriate values

Next: Try to run the entire script in `dev/run_dev.R`, install any packages that is missing.

The process is stepwise, where options by default are hidden, until the appropriate steps have been taken. Note that STAR_idx takes ALOT of RAM and FASTP and STAR alignment takes a lot of cpu time as well.

The app requires gz compressed (or uncompressed) fastq files, a metadata file with the following columns:

1. Sample name
2. Full filepath
3. Read Mate

The app currently copies (option to move instead) fastq files to a experimental directory (default set in `R/utils_DEFAULTS.R`
fastp and STAR is run on each sample, and relocated systematically
Finally, the circulaR algorithm is used to run circRNA analysis (circulaR must be installed, but have not yet been uplaoded to github)
